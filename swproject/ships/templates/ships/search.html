{% extends 'ships/base.html' %}

{% block content %}
<div style="background: rgba(0,0,0,0.3); padding: 20px; border-radius: 10px;">
    <h2>Поиск кораблей</h2>
    
    <form method="get" style="margin: 20px 0;">
        <input type="text" name="q" value="{{ query }}" placeholder="Введите название корабля..." 
               style="padding: 10px; width: 70%; border-radius: 5px; border: none;">
        <button type="submit" class="btn">Искать</button>
    </form>

    {% if ships %}
    <h3>Найдено: {{ ships.count }}</h3>
    <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px; margin-top: 20px;">
        {% for ship in ships %}
        <div style="background: rgba(255,255,255,0.1); padding: 20px; border-radius: 10px;">
            <h3 style="color: #ffd700;">{{ ship.name }}</h3>
            <p>{{ ship.model }}</p>
            <a href="{% url 'ship_detail' ship.pk %}" class="btn" style="margin-top: 10px;">Подробнее</a>
        </div>
        {% endfor %}
    </div>
    {% elif query %}
    <p>Корабли не найдены</p>
    {% endif %}
</div>
{% endblock %}